if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((r=>t.resolve(e()).then((()=>r))),(r=>t.resolve(e()).then((()=>{throw r}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e){return weex.requireModule(e)}function r(e,t,...r){uni.__log__?uni.__log__(e,t,...r):console[e].apply(console,[...r,t])}var o,n=t("GCUniPlugin-RUM");const a={onLoad(){o=1e6*(new Date).getTime(),r("log","at GCPageMixin.js:7","onLoad")},onReady(){let e=1e6*(new Date).getTime()-o;null!==o&&e>=0&&n.onCreateView({viewName:this.route,loadTime:e}),o=null,r("log","at GCPageMixin.js:19","Brandon Test showView"),n.startView({viewName:this.route})}},i=(e,t)=>{const r=e.__vccOpts||e;for(const[o,n]of t)r[o]=n;return r};var s=t("GCUniPlugin-MobileAgent");const l=i({data:()=>({}),mixins:[a],onReady(){r("log","at pages/index/index.vue:27","index onReady")},methods:{bindUser(){s.bindRUMUserData({userId:"Test userId",userName:"Test name",userEmail:"test@123.com",extra:{age:"20"}})},unbindUser(){s.unbindRUMUserData()}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.bindUser())},"绑定用户"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.unbindUser())},"解绑用户"),e.createElementVNode("navigator",{url:"../logging/logging"},[e.createElementVNode("button",{type:"primary"},"日志输出")]),e.createElementVNode("navigator",{url:"../tracing/tracing"},[e.createElementVNode("button",{type:"primary"},"网络链路追踪")]),e.createElementVNode("navigator",{url:"../rum/rum"},[e.createElementVNode("button",{type:"primary"},"RUM数据采集")])])}]]);var u=t("GCUniPlugin-RUM");const c={getUUID:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),request(e,t={}){uni.request({url:e,header:t,success(){r("log","at utils.js:21","success")},complete(){r("log","at utils.js:24","complete")}})},rumRequest(e,t,r={}){let o=this.getUUID();var n,a,i;u.startResource({key:o,property:{startResource_property:"uni_test"}}),uni.request({url:e,method:t,header:r,success:e=>{n=e.header,a=e.data,i=e.statusCode},fail:e=>{a=e.errMsg},complete(){u.stopResource({key:o,property:{stopResource_property:"uni_test"}}),u.addResource({key:o,content:{url:e,httpMethod:t,requestHeader:r,responseHeader:n,responseBody:a,resourceStatus:i}})}})}};var p=t("GCUniPlugin-RUM");const g=i({data:()=>({}),onLoad(){r("log","at pages/rum/rum.vue:25","rum onLoad")},onShow(){r("log","at pages/rum/rum.vue:28","rum onShow")},onReady(){r("log","at pages/rum/rum.vue:31","rum onReady")},methods:{onCreateView(){p.onCreateView({viewName:"custom_rum",loadTime:1e8})},startView(){p.startView({viewName:"custom_rum",property:{startView_property:"uni_test"}})},stopView(){p.stopView({property:{stopView_property:"uni_test"}})},startAction(){p.startAction({actionName:"Button",actionType:"click",property:{action_property:"uni_test"}})},addError(){p.addError({message:"Error message",stack:"Error stack",property:{error_property:"uni_test"}})},resourceError(){c.rumRequest("https://console-api.guance.com/not/found/","GET",{Accept:"application/json","Content-Type":"application/json"})},resource(){c.rumRequest("https://www.baidu.com","GET",{Accept:"application/json","Content-Type":"application/json"})}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.onCreateView())},"View OnCreate"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.startView())},"View Start"),e.createElementVNode("button",{type:"primary",onClick:r[2]||(r[2]=e=>i.stopView())},"View Stop"),e.createElementVNode("navigator",{url:"../rum/rum-view-mixin"},[e.createElementVNode("button",{type:"primary"},"View Mixin 例子")]),e.createElementVNode("button",{type:"primary",onClick:r[3]||(r[3]=e=>i.startAction())},"Action 点击"),e.createElementVNode("button",{type:"primary",onClick:r[4]||(r[4]=e=>i.addError())},"Add Error"),e.createElementVNode("button",{type:"primary",onClick:r[5]||(r[5]=e=>i.resource())},"Resource Normal"),e.createElementVNode("button",{type:"primary",onClick:r[6]||(r[6]=e=>i.resourceError())},"Resource Error")])}]]);var d,m=t("GCUniPlugin-RUM");const y=i({data:()=>({}),mixins:[{onLoad(){d=1e6*(new Date).getTime(),r("log","at GCPageViewMixinOnly.js:6","onLoad")},onReady(){let e=1e6*(new Date).getTime()-d;null!==d&&e>=0&&m.onCreateView({viewName:this.route,loadTime:e}),d=null,m.startView({viewName:this.route})},onShow(){null!=d&&(r("log","at GCPageViewMixinOnly.js:25","Brandon Test showView"),m.startView({viewName:this.route}))},onHide(){m.stopView()}}],methods:{}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("text",null,"页面 mixin 方式实现 rum view，注意需要与 gc_watchRouter 分开使用否则会重复上报 view 数据")])}]]);var w=t("GCUniPlugin-Tracer");let v="http://testing-ft2x-api.cloudcare.cn/api/v1/account/permissions";const h=i({data:()=>({}),methods:{tracing(){let e=c.getUUID();var t=w.getTraceHeader({key:e,url:v});r("log","at pages/tracing/tracing.vue:25","调用getTraceHeader:"+t),c.request(v,t)}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.tracing())},"网络链路追踪")])}]]);var k=t("GCUniPlugin-Logger");const C=i({data:()=>({}),methods:{log(e){k.logging({content:`Log Status: ${e}`,status:e,property:{log_property:"uni_test"}})}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.log("info"))},"Log Status:info"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.log("warning"))},"Log Status:warning"),e.createElementVNode("button",{type:"primary",onClick:r[2]||(r[2]=e=>i.log("error"))},"Log Status:error"),e.createElementVNode("button",{type:"primary",onClick:r[3]||(r[3]=e=>i.log("critical"))},"Log Status:critical"),e.createElementVNode("button",{type:"primary",onClick:r[4]||(r[4]=e=>i.log("ok"))},"Log Status:ok")])}]]);const V=i({methods:{navigateTo(){uni.navigateTo({url:"/pages/routertest/page"})},reLaunch(){uni.reLaunch({url:"/pages/routertest/tab3"})}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.navigateTo())},"navigateTo"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.reLaunch())},"reLaunch")])}]]);const b=i({},[["render",function(e,t){return null}]]);const _=i({},[["render",function(e,t){return null}]]);const f=i({methods:{redirectTo(){uni.redirectTo({url:"/pages/routertest/page2"})},navigateBack(){uni.navigateBack()}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.redirectTo())},"redirectTo"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.navigateBack())},"navigateBack")])}]]);const x=i({methods:{redirectTo(){uni.redirectTo({url:"/pages/routertest/page"})},navigateBack(){uni.navigateBack()}}},[["render",function(t,r,o,n,a,i){return e.openBlock(),e.createElementBlock("view",{class:"btn-list"},[e.createElementVNode("button",{type:"primary",onClick:r[0]||(r[0]=e=>i.redirectTo())},"redirectTo"),e.createElementVNode("button",{type:"primary",onClick:r[1]||(r[1]=e=>i.navigateBack())},"navigateBack")])}]]);__definePage("pages/index/index",l),__definePage("pages/rum/rum",g),__definePage("pages/rum/rum-view-mixin",y),__definePage("pages/tracing/tracing",h),__definePage("pages/logging/logging",C),__definePage("pages/routertest/tab2",V),__definePage("pages/routertest/tab3",b),__definePage("pages/routertest/tab4",_),__definePage("pages/routertest/page",f),__definePage("pages/routertest/page2",x);var E,N,T=t("GCUniPlugin-RUM");const R={onLaunch:function(){this.startWatch()},onShow:function(){var e=getCurrentPages();if(e.length>0){let t=e[e.length-1];r("log","at GCWatchRouter.js:18","onShow",t),N=t.route,r("log","at GCWatchRouter.js:20","Brandon Test showView"),T.startView({viewName:t.route})}},onHide:function(){r("log","at GCWatchRouter.js:27","onHide"),T.stopView()},methods:{startWatch(){var e=this;uni.addInterceptor("navigateTo",{invoke(t){e.rumRecordNewView(t.url)},complete(t){r("log","at GCWatchRouter.js:38","navigateTo complete :",t),"navigateTo:ok"===t.errMsg&&e.rumStopOldStartNew()}}),uni.addInterceptor("redirectTo",{invoke(t){e.rumRecordNewView(t.url)},complete(t){r("log","at GCWatchRouter.js:49","redirectTo complete :",t.errMsg),"redirectTo:ok"===t.errMsg&&e.rumStopOldStartNew()}}),uni.addInterceptor("reLaunch",{invoke(t){e.rumRecordNewView(t.url)},complete(t){r("log","at GCWatchRouter.js:60","reLaunch complete :",t),"reLaunch:ok"===t.errMsg&&e.rumStopOldStartNew()}}),uni.addInterceptor("switchTab",{invoke(t){e.rumRecordNewView(t.url)},complete(t){"switchTab:ok"===t.errMsg&&e.rumStopOldStartNew()}}),uni.addInterceptor("navigateBack",{invoke(t){e.rumRecordNewView(null)},complete(t){r("log","at GCWatchRouter.js:81","navigateBack complete :",t.errMsg),"navigateBack:ok"===t.errMsg&&e.navigateBack()}})},rumRecordNewView(e){E=1e6*(new Date).getTime(),N=e},rumStopOldStartNew(e=!0){if(N){r("log","at GCWatchRouter.js:94","stopView"),T.stopView();let t=1e6*(new Date).getTime()-E;null!==E&&t>=0&&T.onCreateView({viewName:N,loadTime:t}),r("log","at GCWatchRouter.js:104","startView",N),r("log","at GCWatchRouter.js:105","Brandon Test showView"),T.startView({viewName:N}),e&&this.addPopGestureEventListener()}E=null},navigateBack(){var e=getCurrentPages();if(e.length>0){let t=e[e.length-1];N=t.route,this.rumStopOldStartNew(!1)}},addPopGestureEventListener(){var e=getCurrentPages();if(e.length>0){let t=e[e.length-1].$getAppWebview(),o=this;r("log","at GCWatchRouter.js:129","addEventListener:"+t),t.addEventListener("popGesture",o.eventListenerPopGesture);let n=t.onclose;t.onclose=function(e){r("log","at GCWatchRouter.js:133","onclose"),t.removeEventListener("popGesture",o.eventListenerPopGesture),n(e)}}},eventListenerPopGesture(e){100==e.progress&&(r("log","at GCWatchRouter.js:142","popGesture",e),this.navigateBack())}}};var A=t("GCUniPlugin-MobileAgent"),U=t("GCUniPlugin-Logger"),G=t("GCUniPlugin-RUM"),B=t("GCUniPlugin-Tracer");const P={mixins:[R],onLaunch:function(){A.sdkConfig({serverUrl:"http://127.0.0.1:9529",debug:!0,envType:"common",globalContext:{sdk_globalContext:"custom_sdk_globalContext"}}),G.setConfig({androidAppId:"android_app_id",iOSAppId:"ios_app_id",errorMonitorType:["cpu","memory"],deviceMonitorType:"all",globalContext:{track_id:"track_id",rum_globalContext:"custom_rum_globalContext"}}),U.setConfig({enableLinkRumData:!0,enableCustomLog:!0,discardStrategy:"discardOldest",logLevelFilters:["warning","error"],globalContext:{logger_globalContext:"custom_logger_globalContext"}}),B.setConfig({traceType:"ddTrace"})},onShow:function(){r("log","at App.vue:48","App Show")},onHide:function(){r("log","at App.vue:51","App Hide")},onError:function(e){e instanceof Error?(r("log","at App.vue:55","Error name:",e.name),r("log","at App.vue:56","Error message:",e.message),r("log","at App.vue:57","Error stack:",e.stack),G&&G.addError({message:e.message,stack:e.stack})):e instanceof String&&(r("log","at App.vue:65","Error:",e),G&&G.addError({message:e,stack:e}))}};const{app:L,Vuex:S,Pinia:M}={app:e.createVueApp(P)};uni.Vuex=S,uni.Pinia=M,L.provide("__globalStyles",__uniConfig.styles),L._component.mpType="app",L._component.render=()=>{},L.mount("#app")}(Vue);
